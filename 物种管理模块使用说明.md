# 物种管理模块使用说明

## 模块概述

物种管理模块是OceanAdmin海洋管理平台的核心功能之一，提供了完整的海洋物种信息管理、分类管理和课程关联管理功能。

## 功能特性

### 1. 物种信息管理
- **物种列表展示**：支持分页展示所有物种信息
- **物种详细信息**：包含中文名、学名、形态特征、生活习性等详细信息
- **物种图片管理**：支持多张图片上传和预览
- **物种状态管理**：支持发布/草稿状态切换
- **高级搜索**：按物种名称、分类、栖息地等条件搜索
- **数据导入导出**：支持批量导入和数据导出功能

### 2. 物种分类管理
- **树形分类结构**：支持多级分类管理
- **分类统计**：显示各分类下物种数量
- **拖拽排序**：支持分类顺序调整
- **分类关联**：关联管理分类下的物种

### 3. 课程物种关联管理
- **多维度关联**：支持一对多、多对一的课程物种关联
- **关联类型**：主要物种、相关物种、对比物种等类型
- **权重设置**：为每个关联设置权重值
- **批量操作**：支持批量创建和管理关联关系
- **关联预览**：预览课程中的物种展示效果

## 页面导航

### 主要页面
1. **物种列表** (`/species/list`)
   - 物种信息的主要管理页面
   - 提供新增、编辑、删除、详情查看功能
   - 支持状态管理和批量操作

2. **物种分类** (`/species/category`) 
   - 物种分类的管理页面
   - 支持树形结构的分类管理
   - 提供分类排序和统计功能

3. **课程关联** (`/species/course-relation`)
   - 课程与物种关联关系的管理页面
   - 支持多种关联模式和批量操作
   - 提供关联数据的统计和导出功能

## API接口

### 物种管理接口
```typescript
// 获取物种列表
getSpeciesList(params: any)

// 获取物种详情
getSpeciesDetail(id: number)

// 创建物种
createSpecies(data: any)

// 更新物种
updateSpecies(id: number, data: any)

// 删除物种
deleteSpecies(id: number)
```

### 物种分类接口
```typescript
// 获取分类列表
getSpeciesCategoryList()

// 创建分类
createSpeciesCategory(data: any)

// 更新分类
updateSpeciesCategory(id: number, data: any)

// 删除分类
deleteSpeciesCategory(id: number)
```

### 课程物种关联接口
```typescript
// 获取关联列表
getCourseSpeciesRelationList(params: any)

// 创建关联
createCourseSpeciesRelation(data: any)

// 批量创建关联
batchCreateCourseSpeciesRelation(data: any)

// 根据课程获取物种
getSpeciesByCourseId(courseId: number)

// 根据物种获取课程
getCoursesBySpeciesId(speciesId: number)
```

## 数据结构

### 物种数据结构
```typescript
interface Species {
  id: number
  chineseName: string        // 中文名
  scientificName: string     // 学名
  categoryId: number         // 分类ID
  habitat: string           // 栖息地
  size?: string             // 体长
  weight?: string           // 体重
  lifespan?: string         // 寿命
  protectionLevel?: string  // 保护等级
  morphology?: string       // 形态特征
  habits?: string           // 生活习性
  distribution?: string     // 分布范围
  conservation?: string     // 保护现状
  images?: string[]         // 图片列表
  status: number            // 状态（0-草稿，1-发布）
  viewCount: number         // 浏览量
  createTime: string        // 创建时间
  updateTime?: string       // 更新时间
}
```

### 物种分类数据结构
```typescript
interface SpeciesCategory {
  id: number
  name: string              // 分类名称
  description?: string      // 分类描述
  parentId?: number         // 父分类ID
  sortOrder: number         // 排序值
  speciesCount: number      // 物种数量
  status: number            // 状态（0-禁用，1-启用）
  createTime: string        // 创建时间
  children?: SpeciesCategory[] // 子分类
}
```

### 课程物种关联数据结构
```typescript
interface CourseSpeciesRelation {
  id: number
  courseId: number          // 课程ID
  speciesId: number         // 物种ID
  relationType: string      // 关联类型（primary/related/comparison）
  weight: number            // 权重（1-100）
  description?: string      // 关联说明
  status: number            // 状态（0-无效，1-有效）
  createTime: string        // 创建时间
  updateTime?: string       // 更新时间
  
  // 关联查询字段
  courseTitle?: string      // 课程标题
  courseCategory?: string   // 课程分类
  speciesChineseName?: string    // 物种中文名
  speciesScientificName?: string // 物种学名
  speciesCategory?: string       // 物种分类
}
```

## 使用说明

### 1. 添加新物种
1. 进入物种列表页面
2. 点击"新增物种"按钮
3. 填写物种的基本信息（中文名、学名、分类等）
4. 上传物种图片
5. 填写详细信息（形态特征、生活习性等）
6. 选择发布状态
7. 保存提交

### 2. 管理物种分类
1. 进入物种分类页面
2. 查看现有分类树形结构
3. 可以添加新分类或子分类
4. 调整分类顺序
5. 查看各分类下的物种数量

### 3. 设置课程物种关联
1. 进入课程关联页面
2. 选择课程和物种
3. 设置关联类型（主要/相关/对比）
4. 设置权重值
5. 添加关联说明
6. 支持批量关联操作

## 注意事项

1. **数据完整性**：删除分类前需确保该分类下无物种
2. **图片管理**：建议上传高质量的物种图片，支持多角度展示
3. **关联权重**：权重值影响物种在课程中的显示优先级
4. **状态管理**：只有发布状态的物种才会在前端展示
5. **数据备份**：定期备份重要的物种数据

## 后续扩展

该模块为海洋物种管理提供了完整的基础功能，后续可根据需求进行以下扩展：

- 物种地理分布地图展示
- 物种生态关系图谱
- AI辅助物种识别
- 物种保护状态实时更新
- 多媒体资源管理（视频、音频）
- 用户贡献内容管理
- 物种观察记录关联

通过这个完整的物种管理模块，管理员可以高效地管理海洋物种信息，为用户提供丰富准确的海洋生物学习资源。